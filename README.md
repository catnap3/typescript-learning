# typescript-learning

スプレッド構文でオブジェクトをコピーしてプロパティを上書きしても、型チェックを厳密にしてくれない事象の考察

対応方法
------------------------------------------------------------------
function m<T, K extends keyof T>(obj: T, key: K, value: T[K]): T {  
return { ...obj, [key]: value };  
}  
------------------------------------------------------------------
K をジェネリックに追加し、key と value をペアで縛る  
value の型は T[K] になるので、  
・key = "a" → value は "foo" | "bar"  
・key = "b" → value は string  
と正しく対応する。  
これなら "a" に "baz" を入れた場合コンパイルエラーになる。  
